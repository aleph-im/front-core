"use strict";(self.webpackChunk_aleph_front_core=self.webpackChunk_aleph_front_core||[]).push([[1396],{"./src/components/layout/Table/cmp.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,StickyTable:()=>StickyTable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>cmp_stories});var react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const StyledTable=styled_components_browser_esm.ZP.table.withConfig({displayName:"styles__StyledTable",componentId:"sc-1fyt39t-0"})(["",""],(({borderType="none"})=>{const hasBorder="none"!==borderType;return(0,styled_components_browser_esm.iv)(["width:100%;border-collapse:collapse;border-spacing:0 0.625rem;thead th{font-size:0.75rem;white-space:nowrap;text-transform:uppercase;}td,th{font-size:1rem;padding:0.75rem 1rem;width:0;}th{border-bottom:0.0625rem solid #ffffff22;}td{","}th.sortable{cursor:pointer;}"],hasBorder&&(0,styled_components_browser_esm.iv)(["border-bottom:0.0625rem "," #ffffff22;"],borderType))}));try{StyledTable.displayName="StyledTable",StyledTable.__docgenInfo={description:"",displayName:"StyledTable",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any[]"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLTableElement | null) => void) | RefObject<HTMLTableElement> | null"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<any>[]"}},rowRender:{defaultValue:null,description:"",name:"rowRender",required:!1,type:{name:"((row: any, rowIndex: number) => ReactNode)"}},rowProps:{defaultValue:null,description:"",name:"rowProps",required:!1,type:{name:"((row: any, rowIndex: number) => HTMLAttributes<HTMLTableRowElement>)"}},rowKey:{defaultValue:null,description:"",name:"rowKey",required:!1,type:{name:"((row: any) => string)"}},stickyHeader:{defaultValue:null,description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},borderType:{defaultValue:null,description:"",name:"borderType",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"dashed"'},{value:'"solid"'}]}},rowNoise:{defaultValue:null,description:"",name:"rowNoise",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layout/Table/styles.tsx#StyledTable"]={docgenInfo:StyledTable.__docgenInfo,name:"StyledTable",path:"src/components/layout/Table/styles.tsx#StyledTable"})}catch(__react_docgen_typescript_loader_error){}var Icon=__webpack_require__("./src/components/common/Icon/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function TableRow({row,columns,rowIndex,rowRender,rowProps,rowNoise=!1}){const props=(0,react.useMemo)((()=>({css:{},...rowProps?.(row,rowIndex)||{}})),[rowIndex,row,rowProps]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:rowRender?rowRender(row,rowIndex):(0,jsx_runtime.jsx)(_StyledTr,{...props,$_css:props.css,children:columns.map(((col,colIndex)=>(0,jsx_runtime.jsx)(TableCell,{row,col,rowIndex,colIndex,rowNoise},colIndex)))})})}function TableCell({row,col,rowIndex,colIndex,rowNoise}){const alignStyle=(0,react.useMemo)((()=>"center"===col.align?{textAlign:"center"}:"right"===col.align?{textAlign:"right"}:{textAlign:"left"}),[col.align]),stickyStyle=(0,react.useMemo)((()=>"start"===col.sticky?{position:"sticky",left:"0px",zIndex:"10"}:"end"===col.sticky?{position:"sticky",right:"0px",zIndex:"10"}:""),[col.sticky]),props=(0,react.useMemo)((()=>{const cellProps=col.cellProps?.(row,col,rowIndex,colIndex)||{},className=(cellProps?.className?`${cellProps?.className} `:"")+(rowNoise&&rowIndex%2!=0?"fx-noise-light":""),css={...alignStyle,...stickyStyle,...cellProps?.css};return{...cellProps,className,css}}),[col,row,rowIndex,colIndex,rowNoise,alignStyle,stickyStyle]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:col.cellRender?col.cellRender(row,col,rowIndex,colIndex):(0,jsx_runtime.jsx)(_StyledTd,{...props,$_css2:[props.css],children:col.render(row,col,rowIndex,colIndex)},colIndex)})}function TableHeaderCell({col,colIndex,sortedColumn,setSortedColumn}){const alignStyle=(0,react.useMemo)((()=>"center"===col.align?{textAlign:"center"}:"right"===col.align?{textAlign:"right"}:{textAlign:"left"}),[col.align]),props=(0,react.useMemo)((()=>{const hcellProps=col.hcellProps?.(col,colIndex)||{},css={...alignStyle,...hcellProps?.css},className=(hcellProps?.className?`${hcellProps?.className} `:"")+(col.sortable?"sortable":"")+" tp-table",style={...col.width?{width:col.width}:{},...hcellProps?.style};return{...hcellProps,css,style,className}}),[alignStyle,col,colIndex]),isSorted=(0,react.useMemo)((()=>sortedColumn.column===col.label),[col.label,sortedColumn.column]),stickyPosition="start"===col.sticky?{position:"sticky",left:"0px",zIndex:"20"}:"end"===col.sticky?{position:"sticky",right:"0px",zIndex:"20"}:"";return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:col.hcellRender?col.hcellRender(col,colIndex,sortedColumn,setSortedColumn):(0,jsx_runtime.jsxs)(_StyledTh,{...props,style:props.style,onClick:()=>{col.sortable&&setSortedColumn({column:col.label,asc:!sortedColumn.asc})},$_css3:[props.css,stickyPosition],children:[col.label,col.sortable&&(0,jsx_runtime.jsx)("div",{style:{opacity:isSorted?1:.45,display:"inline-block",paddingLeft:"0.625rem"},children:(0,jsx_runtime.jsx)(Icon.Z,{name:isSorted?sortedColumn.asc?"sort-up":"sort-down":"sort"})})]},colIndex)})}function Table(props){const{columns,data,rowKey}=props,[sortedColumn,setSortedColumn]=(0,react.useState)({column:"",asc:!0}),randomId=(0,react.useId)(),keyedData=(0,react.useMemo)((()=>data.map(((row,i)=>({...row,key:rowKey?rowKey(row):`${randomId}${i}`})))),[data,randomId,rowKey]),targetSortColumn=(0,react.useMemo)((()=>columns.find((({label})=>label===sortedColumn.column))),[columns,sortedColumn.column]),sortedData=(0,react.useMemo)((()=>{if(!sortedColumn.column)return keyedData;const getValue=targetSortColumn?.sortBy||(row=>String(targetSortColumn?.render(row,targetSortColumn,-1,-1))),sortFn=targetSortColumn?.sort||((rowA,rowB)=>{const A=getValue(rowA),B=getValue(rowB);return A<B?sortedColumn.asc?-1:1:A>B?sortedColumn.asc?1:-1:0});return keyedData.sort(sortFn)}),[keyedData,sortedColumn.column,sortedColumn.asc,targetSortColumn]);return(0,jsx_runtime.jsxs)(StyledTable,{...props,children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)(_StyledTr2,{$_css4:[props.stickyHeader&&{position:"sticky",top:"0px",zIndex:"10","--tw-bg-opacity":"0.5",backgroundClip:"border-box","--tw-backdrop-blur":"blur(4px)",backdropFilter:"var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)"}],children:columns.map(((col,colIndex)=>(0,jsx_runtime.jsx)(TableHeaderCell,{col,colIndex,sortedColumn,setSortedColumn},colIndex)))})}),(0,jsx_runtime.jsx)("tbody",{children:sortedData.map(((row,rowIndex)=>(0,jsx_runtime.jsx)(TableRow,{row,rowIndex,columns,rowRender:props.rowRender,rowProps:props.rowProps,rowNoise:props.rowNoise},row.key)))})]})}TableRow.displayName="TableRow",TableCell.displayName="TableCell",TableHeaderCell.displayName="TableHeaderCell",Table.displayName="Table",Table.displayName="Table";const cmp=(0,react.memo)(Table);var _StyledTr=(0,styled_components_browser_esm.ZP)("tr").withConfig({displayName:"cmp___StyledTr",componentId:"sc-xdi2fd-0"})(["",""],(p=>p.$_css)),_StyledTd=(0,styled_components_browser_esm.ZP)("td").withConfig({displayName:"cmp___StyledTd",componentId:"sc-xdi2fd-1"})(["",""],(p=>p.$_css2)),_StyledTh=(0,styled_components_browser_esm.ZP)("th").withConfig({displayName:"cmp___StyledTh",componentId:"sc-xdi2fd-2"})(["",""],(p=>p.$_css3)),_StyledTr2=(0,styled_components_browser_esm.ZP)("tr").withConfig({displayName:"cmp___StyledTr2",componentId:"sc-xdi2fd-3"})(["",""],(p=>p.$_css4));try{TableRow.displayName="TableRow",TableRow.__docgenInfo={description:"",displayName:"TableRow",props:{rowRender:{defaultValue:null,description:"",name:"rowRender",required:!1,type:{name:"((row: R, rowIndex: number) => ReactNode)"}},rowProps:{defaultValue:null,description:"",name:"rowProps",required:!1,type:{name:"((row: R, rowIndex: number) => HTMLAttributes<HTMLTableRowElement>)"}},rowKey:{defaultValue:null,description:"",name:"rowKey",required:!1,type:{name:"((row: R) => string)"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Record<string, unknown>"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<R>[]"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},rowNoise:{defaultValue:{value:"false"},description:"",name:"rowNoise",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layout/Table/cmp.tsx#TableRow"]={docgenInfo:TableRow.__docgenInfo,name:"TableRow",path:"src/components/layout/Table/cmp.tsx#TableRow"})}catch(__react_docgen_typescript_loader_error){}const data=[{name:"John Doe",age:30,job:"Software Engineer",pets:{dogs:1,cats:2,turtles:0},gender:"male"},{name:"Jane Doe",age:25,job:"Software Engineer",pets:{dogs:0,cats:1,turtles:1},gender:"female"},{name:"Emily Smith",age:28,job:"Product Manager",pets:{dogs:0,cats:0,turtles:5},gender:"female"},{name:"Michael Johnson",age:35,job:"Data Scientist",pets:{dogs:2,cats:3,turtles:1},gender:"male"},{name:"Sarah Brown",age:22,job:"UX Designer",pets:{dogs:1,cats:1,turtles:0},gender:"female"},{name:"David Wilson",age:40,job:"Project Manager",pets:{dogs:3,cats:2,turtles:2},gender:"male"},{name:"Olivia Davis",age:27,job:"Marketing Specialist",pets:{dogs:1,cats:0,turtles:3},gender:"female"},{name:"Chris Miller",age:32,job:"Frontend Developer",pets:{dogs:2,cats:1,turtles:1},gender:"male"},{name:"Ella Turner",age:29,job:"Graphic Designer",pets:{dogs:0,cats:2,turtles:0},gender:"female"},{name:"Alex Harris",age:34,job:"Sales Manager",pets:{dogs:1,cats:0,turtles:4},gender:"male"}],cmp_stories={title:"Components/UI/layout/Table",component:cmp,argTypes:{borderType:{control:{type:"select",options:["none","dashed","solid"]}}}},defaultArgs={borderType:"dashed",rowNoise:!0,stickyHeader:!1,...{data,columns:[{label:"Name",sortable:!0,width:"50%",sortBy:row=>row.name,render:row=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("strong",{children:row.name}),"undisclosed"!==row.gender&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",(0,jsx_runtime.jsx)(Icon.Z,{name:"female"===row.gender?"venus":"mars",color:"red"})]})]})},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Job",render:row=>row.job,sortable:!1,align:"center"},{label:"Number of pets",render:row=>Object.values(row.pets).reduce(((acc,curr)=>acc+curr),0),sortable:!0,align:"right"}]},rowProps:(row,i)=>({onClick:()=>{alert(`row click ${i}`)}})},stickyTableArgs={stickyHeader:!0,borderType:"dashed",rowNoise:!0,...{data,columns:[{label:"Name",sticky:"start",sortable:!0,width:"50%",sortBy:row=>row.name,render:row=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("strong",{children:row.name}),"undisclosed"!==row.gender&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",(0,jsx_runtime.jsx)(Icon.Z,{name:"female"===row.gender?"venus":"mars",color:"red"})]})]})},{label:"Age",render:row=>row.age,sortable:!0,align:"right"},{label:"Job",render:row=>row.job,sortable:!1,align:"center"},{label:"Number of pets",render:row=>Object.values(row.pets).reduce(((acc,curr)=>acc+curr),0),sortable:!0,align:"right",sticky:"end"}]}},Template=args=>(0,jsx_runtime.jsx)(cmp,{...args});Template.displayName="Template";const Default=Template.bind({});Default.args={...defaultArgs},Default.parameters={controls:{exclude:["color","size"]}};const StickyTable=Template.bind({});StickyTable.args={...stickyTableArgs},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <Table {...args} />",...Default.parameters?.docs?.source}}},StickyTable.parameters={...StickyTable.parameters,docs:{...StickyTable.parameters?.docs,source:{originalSource:"args => <Table {...args} />",...StickyTable.parameters?.docs?.source}}};const __namedExportsOrder=["Default","StickyTable"]},"./src/components/common/Icon/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_cmp__WEBPACK_IMPORTED_MODULE_0__.Z});var _cmp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/common/Icon/cmp.tsx")}}]);